---
title: "Notebook 07A"
output: html_document
---

```{r, include=FALSE}
library(tidyverse)
library(ggrepel)
library(smodels)

theme_set(theme_minimal())
options(pillar.min_character_chars = 15)
```

## Instructions

This notebook includes several tasks to practice and extend your knowledge of
the material covered within the chapter. For the most part, every notebook with
a name ended in "A" will work with a collection of data about cities and their
population. The questions tend to be relatively contained; the focus is
primarily on writing code to perform a specific task. For this purpose there
will usually be an empty code block for you to put your code. There are also
questions requiring a short response, prompted by the phrase "**Answer:**".
Your answers to these can be write directly in this notebook. Occasionally
new functions or concepts will be shown within each notebook.

Notebooks ending in letters other than "A" more often include new datasets and
open-ended prompts for using the data skills covered in the chapters to address
a wide range of questions. It is suggested to start with the "A" notebook for
each chapter and then trying to work through at least one additional data
project notebook.

When you are done with your code, hitting the *knit* button in the toolbar will
produce an HTML webpage with all of your results. Note that the first time you
run the knit function may require installing some packages. Knitting your code
is a good way to help check that you have written all of the code correctly and
have not accidentally modified anything as you worked through the notebook.

Two important pieces of advice when working through the notebooks:

- It is a best practice to close RStudio everytime that you finish with a
notebook and before you start working on another dataset. This starts each
notebook from scratch and does not risk accidentally using variables created in
one notebook within the scope of another.

- Notice that the notebook file does not automatically word-wrap the way you
may be used to in a word processor. Generally, you should manually hit enter to
start typing on a new line. I try to make sure that both my text and my code are
not very wide. Make sure to do the same with your code and responses. Also, make
sure that your notebook window is wide enough so that my text does not forceable
try to wrap. This is very hard to read and makes it much easier to work through
the notebook.

## Load Datasets

We will work with the largest cities datasets:

```{r, message=FALSE}
cities <- read_csv(file.path("..", "data", "largest_cities.csv"))
```

We will also work with the entire U.S. cities dataset:

```{r, message=FALSE}
us <- read_csv(file.path("..", "data", "us_city_population.csv"))
```

Please refer to notebook02a for more information about these datasets and how
these datasets are organized.

## Labels and themes

In the code block below, create a visualization of the `cities` data with
city population on the x-axis, city area on the y-axis, points colored by
continent, and the point size given by the cities population density. Include
informative labels (with units, where needed) for the axes and legends, a
title, subtitle, and caption. Set the `theme_sm` theme and add logarithmic
scales for the x and y axes.

```{r}

```

Now, the next code block, take the `us` dataset and produce a line plot grouped
by city with year on the x-axis and population on the y-axis. Only include
the 15 cities that have the largest (maximum) population. Pick one of the cities
and highlight the line in a color of your choosing, while setting the other
lines to a light grey. Include information labels for the axes, a title,
subtitle, and caption. Use the `theme_sm` theme.

```{r}

```

Note that the above plot requires putting together several things learned in
the past several chapters, such as slicing, grouped mutates, filters, and
layering data. Also note that you will need to create a new dataset to use as
the data source for the highlight layer.
